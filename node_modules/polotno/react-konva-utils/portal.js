"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Portal=void 0;var react_1=__importDefault(require("react")),react_konva_1=require("react-konva"),Portal=function(e){var r=e.selector,t=e.enabled,a=e.children,u=react_1.default.useRef(null),n=react_1.default.useRef(null),c=react_1.default.useRef(),o=null==t||t;return react_1.default.useLayoutEffect((function(){if(u.current&&n.current){c.current=n.current;var e=u.current.getStage().findOne(r);o&&e?n.current.moveTo(e):n.current.moveTo(u.current),u.current.getLayer().batchDraw(),e&&e.getLayer().batchDraw()}}),[r,o]),react_1.default.useEffect((function(){return function(){var e;null===(e=c.current)||void 0===e||e.destroy()}}),[]),react_1.default.createElement(react_konva_1.Group,{name:"_outer_portal",ref:u},react_1.default.createElement(react_konva_1.Group,{name:"_inner_portal",ref:n},a))};exports.Portal=Portal;