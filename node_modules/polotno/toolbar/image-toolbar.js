"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var c in t=arguments[r])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(require("react")),mobx_react_lite_1=require("mobx-react-lite"),core_1=require("@blueprintjs/core"),filters_picker_1=__importDefault(require("./filters-picker"));exports.default=mobx_react_lite_1.observer((function(e){var t=e.store,r=t.selectedElements[0],o=r._cropModeEnabled,c=react_1.default.useRef({});return react_1.default.useEffect((function(){o&&(c.current={x:r.x,y:r.y,width:r.width,height:r.height,cropX:r.cropX,cropY:r.cropY,cropWidth:r.cropWidth,cropHeight:r.cropHeight})}),[o]),react_1.default.createElement(core_1.Navbar.Group,{align:core_1.Alignment.LEFT},!o&&react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(core_1.Popover,{content:react_1.default.createElement(core_1.Menu,null,react_1.default.createElement(core_1.MenuItem,{shouldDismissPopover:!1,icon:"arrows-horizontal",text:"Flip horizontally",onClick:function(){r.set({flipX:!r.flipX})}}),react_1.default.createElement(core_1.MenuItem,{shouldDismissPopover:!1,text:"Flip vertically",icon:"arrows-vertical",onClick:function(){r.set({flipY:!r.flipY})}})),position:core_1.Position.BOTTOM},react_1.default.createElement(core_1.Button,{text:"Flip",minimal:!0})),react_1.default.createElement(filters_picker_1.default,{element:r}),react_1.default.createElement(core_1.Button,{text:"Fit to background",minimal:!0,onClick:function(){r.set({x:0,y:0,width:t.width,height:t.height,rotation:0})}}),react_1.default.createElement(core_1.Button,{text:"Crop",minimal:!0,onClickCapture:function(e){r.toggleCropMode(!0)}})),o&&react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(core_1.Button,{text:"Done",minimal:!0,icon:"tick",onClickCapture:function(e){r.toggleCropMode(!1)}}),react_1.default.createElement(core_1.Button,{text:"Cancel",minimal:!0,icon:"cross",onClickCapture:function(e){r.set(__assign({},c.current)),r.toggleCropMode(!1)}})))}));